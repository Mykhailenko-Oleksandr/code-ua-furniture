import{i as Q,S as M,a as h,R as $,A as V}from"./assets/vendor-Bwpr_ifn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();const z="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.81%200.219C6.95056%200.0787966%207.14097%204.21785e-05%207.3395%200L16.6605%200C16.859%204.21785e-05%2017.0494%200.0787966%2017.19%200.219L23.781%206.81C23.9212%206.95056%2024%207.14097%2024%207.3395V16.6605C24%2016.859%2023.9212%2017.0494%2023.781%2017.19L17.19%2023.781C17.0494%2023.9212%2016.859%2024%2016.6605%2024H7.3395C7.14097%2024%206.95056%2023.9212%206.81%2023.781L0.219%2017.19C0.0787966%2017.0494%204.21785e-05%2016.859%200%2016.6605L0%207.3395C4.21785e-05%207.14097%200.0787966%206.95056%200.219%206.81L6.81%200.219ZM7.65%201.5L1.5%207.65V16.35L7.65%2022.5H16.35L22.5%2016.35V7.65L16.35%201.5H7.65Z'%20fill='%23FAFAFB'/%3e%3cpath%20d='M6.969%206.96912C7.03867%206.89927%207.12143%206.84386%207.21255%206.80605C7.30366%206.76824%207.40135%206.74878%207.5%206.74878C7.59865%206.74878%207.69633%206.76824%207.78745%206.80605C7.87857%206.84386%207.96133%206.89927%208.031%206.96912L12%2010.9396L15.969%206.96912C16.0387%206.89939%2016.1215%206.84407%2016.2126%206.80633C16.3037%206.7686%2016.4014%206.74917%2016.5%206.74917C16.5986%206.74917%2016.6963%206.7686%2016.7874%206.80633C16.8785%206.84407%2016.9613%206.89939%2017.031%206.96912C17.1007%207.03885%2017.156%207.12164%2017.1938%207.21274C17.2315%207.30385%2017.2509%207.4015%2017.2509%207.50012C17.2509%207.59874%2017.2315%207.69639%2017.1938%207.7875C17.156%207.8786%2017.1007%207.96139%2017.031%208.03112L13.0605%2012.0001L17.031%2015.9691C17.1007%2016.0389%2017.156%2016.1216%2017.1938%2016.2127C17.2315%2016.3039%2017.2509%2016.4015%2017.2509%2016.5001C17.2509%2016.5987%2017.2315%2016.6964%2017.1938%2016.7875C17.156%2016.8786%2017.1007%2016.9614%2017.031%2017.0311C16.9613%2017.1009%2016.8785%2017.1562%2016.7874%2017.1939C16.6963%2017.2316%2016.5986%2017.2511%2016.5%2017.2511C16.4014%2017.2511%2016.3037%2017.2316%2016.2126%2017.1939C16.1215%2017.1562%2016.0387%2017.1009%2015.969%2017.0311L12%2013.0606L8.031%2017.0311C7.96127%2017.1009%207.87848%2017.1562%207.78737%2017.1939C7.69626%2017.2316%207.59861%2017.2511%207.5%2017.2511C7.40138%2017.2511%207.30373%2017.2316%207.21262%2017.1939C7.12151%2017.1562%207.03873%2017.1009%206.969%2017.0311C6.89927%2016.9614%206.84395%2016.8786%206.80621%2016.7875C6.76847%2016.6964%206.74905%2016.5987%206.74905%2016.5001C6.74905%2016.4015%206.76847%2016.3039%206.80621%2016.2127C6.84395%2016.1216%206.89927%2016.0389%206.969%2015.9691L10.9395%2012.0001L6.969%208.03112C6.89915%207.96145%206.84374%207.87869%206.80593%207.78757C6.76812%207.69645%206.74866%207.59877%206.74866%207.50012C6.74866%207.40147%206.76812%207.30379%206.80593%207.21267C6.84374%207.12155%206.89915%207.03879%206.969%206.96912Z'%20fill='%23FAFAFB'/%3e%3c/svg%3e";function d(e){return Q.error({message:e,messageColor:"#fff",messageSize:"16",messageLineHeight:"24",backgroundColor:"#6b0609",iconUrl:z,position:"topRight",progressBarColor:"#420406ff",theme:"dark"})}const T=window.matchMedia("(max-width: 767px)"),B=window.matchMedia("(min-width: 768px) and (max-width: 1439px)"),P=window.matchMedia("(min-width: 1440px)");T.addEventListener("change",C);B.addEventListener("change",C);P.addEventListener("change",C);function C(){T.matches?new M(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0}}):B.matches?new M(".swiper",{slidesPerView:2,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0}}):P.matches&&new M(".swiper",{slidesPerView:3,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0}})}const s={body:document.querySelector("body"),themeToggle:document.querySelector("#theme-toggle"),modalProduct:document.querySelector(".modal-product"),modalDetailsContent:document.querySelector(".modal-details-content"),swiperWrapper:document.querySelector(".swiper-wrapper"),categories:document.querySelector(".categories"),furnitureList:document.querySelector(".furniture-list"),loader:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".show-more-btn"),allCategoriesBtn:document.querySelector(".all-category"),openMenuBtn:document.querySelector(".header-burger-menu"),closeMenuBtn:document.querySelector(".modal-close-btn"),mobileMenu:document.querySelector(".modal-navbar"),navLinks:document.querySelectorAll(".mobile-link, .mobile-buy-btn")},G="https://furniture-store.b.goit.study/api",E={FURNITURES:"/furnitures",CATEGORIES:"/categories",ORDERS:"/orders",FEEDBACKS:"/feedbacks"},I=8;h.defaults.baseURL=G;async function K(){return(await h(`${E.FEEDBACKS}`,{params:{limit:10}})).data.feedbacks}async function Z(){return(await h.get(`${E.CATEGORIES}`)).data}async function S(e){return(await h.get(`${E.FURNITURES}`,{params:{limit:`${I}`,page:e}})).data}async function q(e,t){return(await h.get(`${E.FURNITURES}`,{params:{category:e,page:t,limit:`${I}`}})).data}const A="/code-ua-furniture/assets/sun-CwyKFXep.png",x="/code-ua-furniture/assets/moon-D3mca3ip.png";function W(){localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","theme-dark")}function X(){localStorage.getItem("theme")?(s.body.classList.add(localStorage.getItem("theme")),s.themeToggle.innerHTML=`
        <img src="${A}" alt="sun" />
        `):s.themeToggle.innerHTML=`
        <img src="${x}" alt="moon" />
        `}function J(e){return e.slice(1).map(t=>`
      <img src="${t}" alt="Мініатюра товару" class="modal-thumb-image">
  `).join("")}function Y(e){return e.map((t,r)=>`
      <li class="modal-color-item">
        <input type="radio" name="color" id="color-${r}" value="${t}" class="modal-color-input" ${r===0?"checked":""}>
        <label for="color-${r}" class="modal-color-label" style="background-color: ${t};"></label>
      </li>
    `).join("")}function O(e){const t=Number(e.dataset.score);s.body.classList.contains("theme-dark")?new $(e,{number:5,score:t,readOnly:!0,halfShow:!0,path:"./img/stars/",starOn:"star-on-white.svg",starOff:"star-off-white.svg",starHalf:"star-half-white.svg"}).init():new $(e,{number:5,score:t,readOnly:!0,halfShow:!0,path:"./img/stars/",starOn:"star-on.svg",starOff:"star-off.svg",starHalf:"star-half.svg"}).init()}function F(){s.loader.classList.remove("visually-hidden")}function f(){s.loader.classList.add("visually-hidden")}function p(){s.loadMoreBtn.classList.remove("visually-hidden"),s.loadMoreBtn.addEventListener("click",U)}function g(){s.loadMoreBtn.classList.add("visually-hidden"),s.loadMoreBtn.removeEventListener("click",U)}function ee(){s.body.classList.contains("theme-dark")?(s.body.classList.remove("theme-dark"),s.themeToggle.innerHTML=`
        <img src="${x}" alt="moon" />
        `):(s.body.classList.add("theme-dark"),s.themeToggle.innerHTML=`
        <img src="${A}" alt="sun" />
        `),W()}function te(e){const t=e.images[0],r=e.images.length>1?J(e.images):"",n=`
      <div class="modal-gallery">
          <img class="modal-main-image" src="${t}" alt="${e.name}">
        
        <div class="modal-gallery-thumbs-list">
          ${r}
        </div>
      </div>
      
      <div class="modal-details-info">
        <h2 class="modal-product-name">${e.name}</h2>
        <p class="modal-product-category">${e.category.name}</p>

        <div class="modal-price-rating-wrap">
          <span class="modal-product-price">${e.price} грн</span>
          <div class="modal-rating">
            <div class="product-rating" data-score="${e.rate}"></div>
          </div>
        </div>

        <div class="modal-colors-wrap">
          <p class="modal-colors-label">Колір</p>
          <ul class="modal-colors-list">
            ${Y(e.color)}
          </ul>
        </div>
        
        <div class="modal-description-dimensions">
          <p class="modal-product-description">${e.description}</p>
          <ul class="modal-dimensions-list">
            <li class="modal-dimension-item">Розміри: <span class="modal-product-dimensions">${e.sizes}</span></li>
          </ul>
        </div>
    <div class="btn-wrapper">
      <button type="button" class="modal-order-btn">
        Перейти до замовлення
      </button>
    </div>
    </div>
  `;s.modalDetailsContent.innerHTML=n;const a=document.querySelector(".product-rating");O(a)}function se(e){const t=e.map(({descr:r,name:n,rate:a},o)=>`
    <div class="feedback-box swiper-slide">
        <div class="feedback-stars-box" data-score="${a}" id="stars-${o}"></div>
        <div class="feedback-box-text">${r}</div>
        <div class="feedback-box-name">${n}</div>
 </div>
 `).join("");s.swiperWrapper.innerHTML=t,e.forEach((r,n)=>{const a=document.getElementById(`stars-${n}`);O(a)})}function re(e){s.categories.insertAdjacentHTML("beforeend",e.map(({name:r,_id:n})=>`<li class="categories-item" ><button class="categories-btn" id="${n}">${r}</button></li>`).join("")),e.forEach(({_id:r})=>{}),document.querySelectorAll(".categories-btn").forEach(r=>{switch(r.textContent.trim()){case"М'які меблі":r.classList.add("soft-category");break;case"Шафи та системи зберігання":r.classList.add("storage-category");break;case"Ліжка та матраци":r.classList.add("beds-category");break;case"Столи":r.classList.add("tabels-category");break;case"Стільці та табурети":r.classList.add("chairs-category");break;case"Кухні":r.classList.add("kitchens-category");break;case"Меблі для дитячої":r.classList.add("nursery-category");break;case"Меблі для офісу":r.classList.add("office-category");break;case"Меблі для передпокою":r.classList.add("hallway-category");break;case"Меблі для ванної кімнати":r.classList.add("bathroom-category");break;case"Садові та вуличні меблі":r.classList.add("garden-category");break;case"Декор та аксесуари":r.classList.add("decor-category");break;default:r.classList.add("category")}})}function L(e){s.furnitureList.insertAdjacentHTML("beforeend",e.map(({images:t,name:r,price:n,_id:a,color:o,description:m})=>`<li class="furniture-list-item">
        <img class="furniture-item-img" src="${t[0]}" alt="${m}">
        <h4 class="furniture-item-name">${r}</h4>
        <div class="furniture-colors">
        ${o.map(_=>`<span class="item-color" style="background-color: ${_};"></span>`).join("")}
        </div>
        <p class="furniture-item-price">${n} грн</p>
        <button class="furniture-details-btn" id="${a}">Детальніше</button>
        </li>`).join(""))}function ae(){s.furnitureList.innerHTML=""}let b=null,k=null,w=null;function oe(e){const t=l.find(r=>r._id===e);b=e,te(t),s.modalProduct.classList.add("is-open"),s.body.classList.add("no-scroll"),k=s.modalProduct.querySelector(".modal-close-btn"),w=s.modalProduct.querySelector(".modal-order-btn"),k.addEventListener("click",v),s.modalProduct.addEventListener("click",H),document.addEventListener("keydown",R),w.addEventListener("click",D)}function H(e){e.target===s.modalProduct&&v()}function R(e){e.key==="Escape"&&s.modalProduct.classList.contains("is-open")&&v()}function v(){k.removeEventListener("click",v),s.modalProduct.removeEventListener("click",H),document.removeEventListener("keydown",R),w.addEventListener("click",D),s.modalProduct.classList.remove("is-open"),s.body.classList.remove("no-scroll"),s.modalDetailsContent.innerHTML="",b=null,k=null,w=null}function D(){const e=document.querySelector('input[name="color"]:checked'),t=e?e.value:null;b&&t?(console.log(`Обрано товар з ID: ${b}`),console.log(`Обрано колір: ${t}`),v()):d("Будь ласка, оберіть колір")}let N="",c=1,i,l=[];async function ne(){X(),Z().then(e=>{re(e)}),S(c).then(e=>{i=e.totalItems-e.furnitures.length,l.push(...e.furnitures),L(e.furnitures),s.furnitureList.addEventListener("click",y),f(),p()}),new V(".accordion-container",{duration:400,showMultiple:!1});try{const e=await K();se(e),C()}catch(e){d(e.message)}}async function U(e){if(g(),F(),c++,s.loadMoreBtn.blur(),s.allCategoriesBtn.classList.contains("accent"))try{const t=await S(c);l.push(...t.furnitures),L(t.furnitures),s.furnitureList.addEventListener("click",y),f(),p(),i-=t.furnitures.length,i||g()}catch(t){d(t.message)}else try{const t=await q(N,c);l.push(...t.furnitures),L(t.furnitures),s.furnitureList.addEventListener("click",y),f(),p(),i-=t.furnitures.length,i||g()}catch(t){d(t.message)}}async function ie(e){if(e.preventDefault(),ae(),l=[],c=1,F(),g(),e.target.classList.contains("categories-btn")&&(document.querySelectorAll(".categories-btn.accent").forEach(t=>{t.classList.remove("accent")}),e.target.classList.add("accent")),e.target!==e.currentTarget)if(e.target.id==="all-categories")try{const t=await S(c);i=t.totalItems-t.furnitures.length,l.push(...t.furnitures),L(t.furnitures),s.furnitureList.addEventListener("click",y),f(),p()}catch(t){d(t.message)}else{N=e.target.id;try{const t=await q(e.target.id,c);i=t.totalItems-t.furnitures.length,l.push(...t.furnitures),L(t.furnitures),s.furnitureList.addEventListener("click",y),f(),p(),i||g()}catch(t){d(t.message)}}}function y(e){if(!e.target.classList.contains("furniture-details-btn"))return;const t=e.target.id;oe(t)}function ce(){s.mobileMenu.classList.add("navbar-is-open"),s.closeMenuBtn.addEventListener("click",u),document.addEventListener("keydown",j),s.mobileMenu.addEventListener("click",le),s.navLinks.forEach(e=>{e.addEventListener("click",u)}),document.body.classList.add("no-scroll")}function u(){s.mobileMenu.classList.remove("navbar-is-open"),s.closeMenuBtn.removeEventListener("click",u),document.removeEventListener("keydown",j),s.navLinks.forEach(e=>{e.removeEventListener("click",u)}),document.body.classList.remove("no-scroll")}function j(e){e.key==="Escape"&&s.mobileMenu.classList.contains("navbar-is-open")&&u()}function le(e){e.target.classList.contains("mobile-menu")&&u()}document.addEventListener("DOMContentLoaded",ne);s.openMenuBtn.addEventListener("click",ce);s.categories.addEventListener("click",ie);s.themeToggle.addEventListener("click",ee);
//# sourceMappingURL=index.js.map
